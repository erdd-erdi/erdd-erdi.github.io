
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificate Verification</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 50px;
        }
        .container {
            text-align: center;
        }
        .logo {
            width: 100px;
            margin-bottom: 20px;
        }
        .input-box {
            margin: 20px 0;
        }
        .status {
            font-size: 1.2em;
            margin-top: 20px;
        }
        .verified {
            color: green;
        }
        .not-verified {
            color: red;
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="Asian_Development_Bank_logo.png" alt="Organization Logo" class="logo">
        <p>Please enter the 10-digit serial number in the e-certificate:</p>
        <input type="text" id="serial-number" class="input-box" maxlength="10">
        <div id="status" class="status">verified or not verified</div>
    </div>


    <script>
        // Function to parse CSV data
        function parseCSV(text) {
            const lines = text.split('\\n');
            const result = {};
            for (let i = 1; i < lines.length; i++) {
                const [serial, surname] = lines[i].split(',');
                if (serial && surname) {
                    result[serial.trim()] = surname.trim();
                }
            }
            return result;
        }

        // Load the CSV data
        fetch('participants.csv')
            .then(response => response.text())
            .then(data => {
                const serialToSurname = parseCSV(data);

                document.getElementById('serial-number').addEventListener('input', function() {
                    var serialNumber = this.value;
                    var statusElement = document.getElementById('status');
                    
                    if (serialNumber.length === 10) {
                        if (serialToSurname.hasOwnProperty(serialNumber)) {
                            statusElement.textContent = 'Verified. Participant surname is ' + serialToSurname[serialNumber];
                            statusElement.className = 'status verified';
                        } else {
                            statusElement.textContent = 'Invalid';
                            statusElement.className = 'status not-verified';
                        }
                    } else {
                        statusElement.textContent = 'verified or not verified';
                        statusElement.className = 'status';
                    }
                });
            })
            .catch(error => console.error('Error loading CSV data:', error));
    </script>
</body>
</html>
